<p-toast position="top-center" key="exibir"></p-toast>
<p-toast position="center" key="confirmar" (onClose)= "onReject()" [baseZIndex]="5000">
    <ng-template let-message pTemplate="message">
        <div class="p-flex p-flex-column" style="flex: 1">
            <div class="p-text-center">
                <h4>{{message.summary}}</h4>
                <p>{{message.detail}}</p>
            </div>
            <div class="p-grid p-fluid">
                <div class="p-col-6">
                    <button id="button-message" type="button" pButton (click)= "onConfirm()" label="Sim"
                        class="p-button-success" icon="pi pi-check" iconPos="left"></button>
                </div>
                <div class="p-col-6">
                    <button id="button-message" type="button" pButton (click)= "onReject()"
                        label="Cancelar" class="p-button-danger" icon="pi pi-times"
                        iconPos="left"></button>
                </div>
            </div>
        </div>
    </ng-template>
</p-toast>
<div class="p-panel">
    <p-panel header="Cidades">
        <p-toolbar>
            <ng-template pTemplate="left">
                <button pButton (click)= "listaDePessoas()" label="Pessoas" class="button p-button-success"
                 icon="pi pi-user" iconPos="left"></button>

                <button pButton (click)= "listaDeEstados()" label="Estados" class="button p-button-success"
                icon="pi pi-flag" iconPos="left"></button>
            </ng-template>
            <ng-template pTemplate="right">
                <button pButton (click)= "adicionar()" label="Adicionar" class="button p-button-success"
                icon="pi pi-plus" iconPos="left"></button>
            </ng-template>
        </p-toolbar>
        <p-table [value]= "cidades" class="table table-striped" [paginator]= "true" [rows]= "5">
            <ng-template pTemplate="header">
                <tr>
                    <th> Nome </th>
                    <th> CEP </th>
                    <th> Estado </th>
                    <th> Opções </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-cidade>
                <tr>
                    <td> {{ cidade.nome }} </td>
                    <td> {{ cidade.cep }} </td>
                    <td> {{ cidade.estado.nome }} - {{cidade.estado.sigla}} </td>
                    <td>
                        <button pButton (click)= "updateCidade(cidade.id)" class="p-button-primary"
                        label="Editar" icon="pi pi-pencil" iconPos="left"></button>

                        <button pButton (click)= "delete(cidade.id)" class="p-button-danger"
                        label="Apagar" icon="pi pi-trash" iconPos="left"></button>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </p-panel>
</div>